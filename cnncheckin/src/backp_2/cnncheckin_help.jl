include("cnncheckin_core.jl")
using .CNNCheckinCore

# FunÃ§Ã£o para exibir ajuda
function show_help()
    println("ðŸŽ¯ Sistema de Reconhecimento Facial CNN Check-in v2.1")
    println()
    println("Uso:")
    println("  julia cnncheckin_train.jl                             # Treinar o modelo")
    println("  julia cnncheckin_identify.jl <imagem>                 # Identificar pessoa")
    println("  julia cnncheckin_info.jl                              # InformaÃ§Ãµes do modelo")
    println("  julia cnncheckin_model_data.jl                        # Dados tÃ©cnicos do modelo")
    println("  julia cnncheckin_validate.jl                          # Validar modelo/config/dados")
    println("  julia cnncheckin_export_config.jl [arquivo]           # Exportar configuraÃ§Ã£o")
    println("  julia cnncheckin_help.jl                              # Mostrar esta ajuda")
    println()
    println("Exemplos:")
    println("  julia cnncheckin_train.jl")
    println("  julia cnncheckin_identify.jl ../dados/teste.jpg")
    println("  julia cnncheckin_info.jl")
    println("  julia cnncheckin_model_data.jl")
    println("  julia cnncheckin_export_config.jl backup_config_2025.toml")
    println()
    println("Estrutura de diretÃ³rios esperada:")
    println("  $(CNNCheckinCore.DATA_PATH)/")
    println("    â”œâ”€â”€ pessoa1-001.jpg")
    println("    â”œâ”€â”€ pessoa1-002.jpg")
    println("    â”œâ”€â”€ pessoa2-001.jpg")
    println("    â””â”€â”€ ...")
    println()
    println("Formatos suportados: .jpg, .jpeg, .png, .bmp, .tiff")
    println()
    println("ðŸ”§ ConfiguraÃ§Ãµes atuais:")
    println("  - Tamanho da imagem: $(CNNCheckinCore.IMG_SIZE)")
    println("  - Batch size: $(CNNCheckinCore.BATCH_SIZE)")
    println("  - Epochs mÃ¡ximos: $(CNNCheckinCore.EPOCHS)")
    println("  - Learning rate: $(CNNCheckinCore.LEARNING_RATE)")
    println()
    println("ðŸ“„ Arquivos gerados:")
    println("  - $(CNNCheckinCore.MODEL_PATH)              # Pesos neurais (JLD2)")
    println("  - $(CNNCheckinCore.CONFIG_PATH)             # ConfiguraÃ§Ãµes (TOML)")
    println("  - $(CNNCheckinCore.MODEL_DATA_TOML_PATH)    # Dados do modelo (TOML)")
    println()
    println("ðŸ’¡ Novidades v2.1:")
    println("  - Dados do modelo salvos em TOML editÃ¡vel")
    println("  - Comando model_data para detalhes tÃ©cnicos")
    println("  - HistÃ³rico de prediÃ§Ãµes salvo automaticamente")
    println("  - EstatÃ­sticas detalhadas dos pesos e camadas")
    println("  - ValidaÃ§Ã£o expandida incluindo dados TOML")
    println("  - Mapeamento pessoa â†’ ID em formato legÃ­vel")
    println()
    println("ðŸ“Š O que contÃ©m o arquivo TOML de dados do modelo:")
    println("  - [model_summary]: arquitetura, dimensÃµes, tipos")
    println("  - [layer_info]: detalhes de cada camada (Conv, Dense, etc.)")
    println("  - [weights_summary]: estatÃ­sticas dos pesos, tamanho do modelo")
    println("  - [person_mappings]: nome da pessoa â†’ ID numÃ©rico")
    println("  - [prediction_examples]: histÃ³rico das Ãºltimas 50 prediÃ§Ãµes")
    println("  - [metadata]: timestamps, versÃµes, arquivos relacionados")
end

# Executar comando se for chamado diretamente
if abspath(PROGRAM_FILE) == @__FILE__
    show_help()
end